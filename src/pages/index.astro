---
import BaseLayout from '../layouts/BaseLayout.astro';
import HorizontalCard from '../components/HorizontalCard.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout>
  <div class='pb-12 mt-5'>
    <div class='text-xl py-1'>Hi there ðŸ‘‹</div>
    <div class='text-5xl font-bold'>I'm Zahara Aviv</div>
    <div class='text-3xl py-3 font-bold'>Full Stack Software Engineer</div>
    <div class='py-2'>
      <text class='text-lg'>
        I'm an Engineer passionate about building products for people using my
        skills in Web Development, Embedded Software, and Systems Design.
      </text>
    </div>
    <div class='mt-8'>
      <a class='btn' href='https://linkedin.com/in/zahara-aviv' target='_blank'>
        Let's connect!&nbsp;&nbsp;
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='24'
          height='24'
          viewBox='0 0 24 24'
          style='fill: currentColor;transform: ;msFilter:;'
        >
          <path
            fill-rule='evenodd'
            clip-rule='evenodd'
            d='M20 4C21.6569 4 23 5.34315 23 7V17C23 18.6569 21.6569 20 20 20H4C2.34315 20 1 18.6569 1 17V7C1 5.34315 2.34315 4 4 4H20ZM19.2529 6H4.74718L11.3804 11.2367C11.7437 11.5236 12.2563 11.5236 12.6197 11.2367L19.2529 6ZM3 7.1688V17C3 17.5523 3.44772 18 4 18H20C20.5523 18 21 17.5523 21 17V7.16882L13.8589 12.8065C12.769 13.667 11.231 13.667 10.1411 12.8065L3 7.1688Z'
          ></path>
        </svg>
      </a>
    </div>
  </div>

  <div>
    <div class='text-3xl w-full font-bold mb-2'>
      Open Source Products {'</>'}
    </div>
  </div>

  <HorizontalCard
    title='xkite'
    img='/xkite-logo.webp'
    desc='An Apache Kafka Integrated Testing Environment developer suite'
    url='https://xkite.io/'
    badge='NEW'
  />
  <div class='divider my-0'></div>
  <HorizontalCard
    title='Alchemeal'
    img='/alchemeal.png'
    desc="An app that provides nutritional suggestions given a user's dietary restrictions/preferences and an ailment."
    url='https://github.com/Endurtek/alchemeal'
  />
  <div class='divider my-0'></div>
  <HorizontalCard
    title='Hirewall'
    img='/Hirewall.webp'
    desc='An app that allows users to track their job application stats and visualize it in a SANKEY diagram.'
    url='https://github.com/M2-Industries/Hirewall'
  />
  <div class='divider my-0'></div>
  <HorizontalCard
    title='FRNDR'
    img='/frndr.png'
    desc='An app for people to find friends in their local area for casual hangouts.'
    url='https://github.com/Amis-LLC/frndr-app'
  />
  <div class='divider my-0'></div>

  <div>
    <div class='text-3xl w-full font-bold mb-2'>
      Personal Projects {'>'}
    </div>
  </div>
  <HorizontalCard
    title='Henka'
    img='/Henka-Icon.png'
    desc='A Name Change URL Database to help people navigate the arduous process of a legal name change.'
    url='https://github.com/zahara-aviv/Henka'
  />
  <div class='divider my-0'></div>

  <div>
    <div class='text-3xl w-full font-bold mb-5 mt-10'>Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={'/blog/' + post.slug}
          target='_self'
          badge={post.data.badge}
        />
        <div class='divider my-0' />
      </>
    ))
  }
</BaseLayout>
